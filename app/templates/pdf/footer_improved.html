<style>
  .footer {
    padding-top: 10px;
    font-size: 9px;
    margin-top: 0;
    margin-bottom: 15px;
    border-top: 1px solid #a82b2e;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .footer-left {
    text-align: left;
    flex: 2;
  }

  .footer-right {
    text-align: right;
    flex: 1;
    font-style: italic;
    color: #666;
  }

  .footer p {
    margin: 2px 0;
  }

  .company-name {
    font-weight: bold;
    color: #a82b2e;
    font-size: 10px;
  }

  .contact-info {
    display: flex;
    gap: 15px;
  }

  .contact-label {
    font-weight: bold;
  }
</style>

<footer class="footer">
  <div class="footer-left">
    <p class="company-name">{{ company.name }}</p>
    <p>
      <span class="contact-label">{{ _('ADDRESS') }}:</span>
      {{ company.address }}
    </p>
    <div class="contact-info">
      <p>
        <span class="contact-label">{{ _('PHONE') }}:</span>
        {{ company.phone }}
      </p>
      <p>
        <span class="contact-label">{{ _('EMAIL') }}:</span>
        {{ company.email }}
      </p>
      {% if company.website %}
      <p>
        <span class="contact-label">{{ _('WEBSITE') }}:</span>
        {{ company.website }}
      </p>
      {% endif %}
    </div>
  </div>
  <div class="footer-right">
    <p>{{ _('Page') }} <span id="pageNumber"></span> {{ _('of') }} <span id="totalPages"></span></p>
    <p>{{ _('Generated on') }} {{ now().strftime('%d/%m/%Y %H:%M') }}</p>
  </div>
</footer>

<script>
  // This script will be executed by WeasyPrint
  document.addEventListener("DOMContentLoaded", function() {
    var pageCounter = 0;
    var totalPages = document.querySelectorAll('.page-break').length + 1;
    
    var pageNumbers = document.querySelectorAll('#pageNumber');
    var totalPagesElements = document.querySelectorAll('#totalPages');
    
    pageNumbers.forEach(function(element) {
      pageCounter++;
      element.textContent = pageCounter;
    });
    
    totalPagesElements.forEach(function(element) {
      element.textContent = totalPages;
    });
  });
</script>